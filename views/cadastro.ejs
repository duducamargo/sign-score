<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="cadastro.css">
    <link rel="icon" type="image/x-icon" href="img/icone.png">
    <title>Create Account</title>
</head>

<body>
    <main>
        <header>
            <div class="logo">
                <img src="img/icone.png" alt="Logo">
                <h2>sign.score</h2>
            </div>
            <nav>
                <ul>
                    <a href="/">
                        <li>home</li>
                    </a>
                    <a href="#">
                        <li>create account</li>
                    </a>
                    <a href="aboutsign">
                        <li>about signs</li>
                    </a>
                    <a href="aboutus">
                        <li>about us</li>
                    </a>
                </ul>
            </nav>
        </header>
        <section>
            <div class="container">
                <h1>Create Account</h1>
                <form action="/" id="form-api">
                    <div class="names">
                        <div class="name"> 
                            <label for="name">Name: </label>
                            <input type="text" name="name" id="name" required>
                        </div>
                        <div class="nameOfCity">
                            <label for="cityName">City: </label>
                            <input type="text" name="cityName" id="city" required>
                        </div>
                    </div>
                    <div class="birth">
                        <label for="day">Birth: </label>
                        <input type="number" id="day" name="day" placeholder="Day" required>
                        <input type="number" id="month" name="month" placeholder="Month" required>
                        <input type="number" id="year" name="year" placeholder="Year" required>
                    </div>
                    <div class="submit">
                        <input type="submit" value="calculate" id="botao">
                    </div>
                </form>

        </section>
    </main>

    <footer>
        <a href="https://github.com/duducamargo" target="_blank">
            <img src="img/footer/github.svg" alt="github">
        </a>
        <a href="https://www.instagram.com/dudu__farias_/" target="_blank">
            <img src="img/footer/instagram.svg" alt="instagram">
        </a>
        <a href="https://github.com/Without-Creativity" target="_blank">
            <img src="img/footer/withoutC.svg" alt="Without Criativity">
        </a>
    </footer>

    <script type="module" src="/scripts/cadastro.js"></script>
    <script>
        const formEl = document.getElementById("form-api")

        formEl.addEventListener("submit", evento => {
            // evento.preventDefault();

            const formData = new FormData(formEl);
            const data = Object.fromEntries(formData);

            fetch("http://localhost:5000/results", {
                method: "POST",
                headers: {
                    "Content-Type" : "application/json"
                },
                body: JSON.stringify(data)
            }).then(res => res.json()).then(data => console.log(data)).catch(err => console.log(err))
        })
    </script>

</body>

</html>